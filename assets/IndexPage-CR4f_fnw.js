import{R as Ve,Q as X,u as We,a as je,b as Ke}from"./use-router-link-DyXljg_5.js";import{c as Oe,h as Ne}from"./render-CjwF3Kyd.js";import{i as He,e as ne,X as ke,g as re,o as le,b as Ue,r as k,a as b,A as Ge,h as y,G as Xe,Y as Ze,s as me,Z as Je,c as Ce,w as Q,_ as _e,n as Ye,$ as pe,B as et,R as tt,J as nt,K as at,L as ge,S as ot,M as U}from"./index-C6-isX6n.js";import{u as ye,Q as rt}from"./use-timeout-zLflipUa.js";import{Q as lt}from"./QPage-BtYCJwsR.js";import{_ as it}from"./_plugin-vue_export-helper-DlAUqK2U.js";let ae,G=0;const v=new Array(256);for(let e=0;e<256;e++)v[e]=(e+256).toString(16).substring(1);const st=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return f=>{const u=new Uint8Array(f);return e.getRandomValues(u),u}}return f=>{const u=[];for(let s=f;s>0;s--)u.push(Math.floor(Math.random()*256));return u}})(),we=4096;function ut(){(ae===void 0||G+16>we)&&(G=0,ae=st(we));const e=Array.prototype.slice.call(ae,G,G+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,v[e[0]]+v[e[1]]+v[e[2]]+v[e[3]]+"-"+v[e[4]]+v[e[5]]+"-"+v[e[6]]+v[e[7]]+"-"+v[e[8]]+v[e[9]]+"-"+v[e[10]]+v[e[11]]+v[e[12]]+v[e[13]]+v[e[14]]+v[e[15]]}let ct=0;const dt=["click","keydown"],ft={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ct++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function vt(e,f,u,s){const r=He(ke,ne);if(r===ne)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ne;const{proxy:E}=re(),z=k(null),V=k(null),W=k(null),Z=b(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),B=b(()=>r.currentModel.value===e.name),J=b(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(B.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(s!==void 0?s.linkClass.value:"")),x=b(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),w=b(()=>e.disable===!0||r.hasFocus.value===!0||B.value===!1&&r.hasActiveTab.value===!0?-1:e.tabindex||0);function _(o,g){if(g!==!0&&o?.qAvoidFocus!==!0&&z.value?.focus(),e.disable===!0){s?.hasRouterLink.value===!0&&me(o);return}if(s===void 0){r.updateModel({name:e.name}),u("click",o);return}if(s.hasRouterLink.value===!0){const T=(h={})=>{let C;const R=h.to===void 0||Je(h.to,e.to)===!0?r.avoidRouteWatcher=ut():null;return s.navigateToRouterLink(o,{...h,returnRouterError:!0}).catch(A=>{C=A}).then(A=>{if(R===r.avoidRouteWatcher&&(r.avoidRouteWatcher=!1,C===void 0&&(A===void 0||A.message?.startsWith("Avoided redundant navigation")===!0)&&r.updateModel({name:e.name})),h.returnRouterError===!0)return C!==void 0?Promise.reject(C):A})};u("click",o,T),o.defaultPrevented!==!0&&T();return}u("click",o)}function L(o){Xe(o,[13,32])?_(o,!0):Ze(o)!==!0&&o.keyCode>=35&&o.keyCode<=40&&o.altKey!==!0&&o.metaKey!==!0&&r.onKbdNavigate(o.keyCode,E.$el)===!0&&me(o),u("keydown",o)}function D(){const o=r.tabProps.value.narrowIndicator,g=[],T=y("div",{ref:W,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});e.icon!==void 0&&g.push(y(X,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&g.push(y("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&g.push(e.alertIcon!==void 0?y(X,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):y("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),o===!0&&g.push(T);const h=[y("div",{class:"q-focus-helper",tabindex:-1,ref:z}),y("div",{class:x.value},Oe(f.default,g))];return o===!1&&h.push(T),h}const I={name:b(()=>e.name),rootRef:V,tabIndicatorRef:W,routeData:s};le(()=>{r.unregisterTab(I)}),Ue(()=>{r.registerTab(I)});function j(o,g){const T={ref:V,class:J.value,tabindex:w.value,role:"tab","aria-selected":B.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:_,onKeydown:L,...g};return Ge(y(o,T,D()),[[Ve,Z.value]])}return{renderTab:j,$tabs:r}}const Te=Ce({name:"QRouteTab",props:{...We,...ft},emits:dt,setup(e,{slots:f,emit:u}){const s=je({useDisableForRouterLinkProps:!1}),{renderTab:r,$tabs:E}=vt(e,f,u,{exact:b(()=>e.exact),...s});return Q(()=>`${e.name} | ${e.exact} | ${(s.resolvedLink.value||{}).href}`,E.verifyRouteModel),()=>r(s.linkTag.value,s.linkAttrs.value)}});function oe(){let e;const f=re();function u(){e=void 0}return _e(u),le(u),{removeTick:u,registerTick(s){e=s,Ye(()=>{e===s&&(Ke(f)===!1&&e(),e=void 0)})}}}let Re=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const f=document.createElement("div");Object.assign(f.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(f),e.scrollLeft=-1e3,Re=e.scrollLeft>=0,e.remove()}function bt(e,f,u){const s=u===!0?["left","right"]:["top","bottom"];return`absolute-${f===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const ht=["left","center","right","justify"],mt=Ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>ht.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:f,emit:u}){const{proxy:s}=re(),{$q:r}=s,{registerTick:E}=oe(),{registerTick:z}=oe(),{registerTick:V}=oe(),{registerTimeout:W,removeTimeout:Z}=ye(),{registerTimeout:B,removeTimeout:J}=ye(),x=k(null),w=k(null),_=k(e.modelValue),L=k(!1),D=k(!0),I=k(!1),j=k(!1),o=[],g=k(0),T=k(!1);let h=null,C=null,R;const A=b(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:bt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),qe=b(()=>{const t=g.value,n=_.value;for(let a=0;a<t;a++)if(o[a].name.value===n)return!0;return!1}),xe=b(()=>`q-tabs__content--align-${L.value===!0?"left":j.value===!0?"justify":e.align}`),Le=b(()=>`q-tabs row no-wrap items-center q-tabs--${L.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Se=b(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+xe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),K=b(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),O=b(()=>e.vertical!==!0&&r.lang.rtl===!0),Y=b(()=>Re===!1&&O.value===!0);Q(O,M),Q(()=>e.modelValue,t=>{p({name:t,setCurrent:!0,skipEmit:!0})}),Q(()=>e.outsideArrows,N);function p({name:t,setCurrent:n,skipEmit:a}){_.value!==t&&(a!==!0&&e["onUpdate:modelValue"]!==void 0&&u("update:modelValue",t),(n===!0||e["onUpdate:modelValue"]===void 0)&&(Pe(_.value,t),_.value=t))}function N(){E(()=>{x.value&&ie({width:x.value.offsetWidth,height:x.value.offsetHeight})})}function ie(t){if(K.value===void 0||w.value===null)return;const n=t[K.value.container],a=Math.min(w.value[K.value.scroll],Array.prototype.reduce.call(w.value.children,(d,i)=>d+(i[K.value.content]||0),0)),c=n>0&&a>n;L.value=c,c===!0&&z(M),j.value=n<parseInt(e.breakpoint,10)}function Pe(t,n){const a=t!=null&&t!==""?o.find(d=>d.name.value===t):null,c=n!=null&&n!==""?o.find(d=>d.name.value===n):null;if(H===!0)H=!1;else if(a&&c){const d=a.tabIndicatorRef.value,i=c.tabIndicatorRef.value;h!==null&&(clearTimeout(h),h=null),d.style.transition="none",d.style.transform="none",i.style.transition="none",i.style.transform="none";const l=d.getBoundingClientRect(),m=i.getBoundingClientRect();i.style.transform=e.vertical===!0?`translate3d(0,${l.top-m.top}px,0) scale3d(1,${m.height?l.height/m.height:1},1)`:`translate3d(${l.left-m.left}px,0,0) scale3d(${m.width?l.width/m.width:1},1,1)`,V(()=>{h=setTimeout(()=>{h=null,i.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",i.style.transform="none"},70)})}c&&L.value===!0&&$(c.rootRef.value)}function $(t){const{left:n,width:a,top:c,height:d}=w.value.getBoundingClientRect(),i=t.getBoundingClientRect();let l=e.vertical===!0?i.top-c:i.left-n;if(l<0){w.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(l),M();return}l+=e.vertical===!0?i.height-d:i.width-a,l>0&&(w.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(l),M())}function M(){const t=w.value;if(t===null)return;const n=t.getBoundingClientRect(),a=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);O.value===!0?(D.value=Math.ceil(a+n.width)<t.scrollWidth-1,I.value=a>0):(D.value=a>0,I.value=e.vertical===!0?Math.ceil(a+n.height)<t.scrollHeight:Math.ceil(a+n.width)<t.scrollWidth)}function se(t){C!==null&&clearInterval(C),C=setInterval(()=>{Ie(t)===!0&&S()},5)}function ue(){se(Y.value===!0?Number.MAX_SAFE_INTEGER:0)}function ce(){se(Y.value===!0?0:Number.MAX_SAFE_INTEGER)}function S(){C!==null&&(clearInterval(C),C=null)}function Ae(t,n){const a=Array.prototype.filter.call(w.value.children,m=>m===n||m.matches&&m.matches(".q-tab.q-focusable")===!0),c=a.length;if(c===0)return;if(t===36)return $(a[0]),a[0].focus(),!0;if(t===35)return $(a[c-1]),a[c-1].focus(),!0;const d=t===(e.vertical===!0?38:37),i=t===(e.vertical===!0?40:39),l=d===!0?-1:i===!0?1:void 0;if(l!==void 0){const m=O.value===!0?-1:1,q=a.indexOf(n)+l*m;return q>=0&&q<c&&($(a[q]),a[q].focus({preventScroll:!0})),!0}}const Be=b(()=>Y.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,n)=>{t.scrollLeft=-n}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,n)=>{t.scrollTop=n}}:{get:t=>t.scrollLeft,set:(t,n)=>{t.scrollLeft=n}});function Ie(t){const n=w.value,{get:a,set:c}=Be.value;let d=!1,i=a(n);const l=t<i?-1:1;return i+=l*5,i<0?(d=!0,i=0):(l===-1&&i<=t||l===1&&i>=t)&&(d=!0,i=t),c(n,i),M(),d}function de(t,n){for(const a in t)if(t[a]!==n[a])return!1;return!0}function $e(){let t=null,n={matchedLen:0,queryDiff:9999,hrefLen:0};const a=o.filter(l=>l.routeData?.hasRouterLink.value===!0),{hash:c,query:d}=s.$route,i=Object.keys(d).length;for(const l of a){const m=l.routeData.exact.value===!0;if(l.routeData[m===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:q,query:ee,matched:Qe,href:ze}=l.routeData.resolvedLink.value,te=Object.keys(ee).length;if(m===!0){if(q!==c||te!==i||de(d,ee)===!1)continue;t=l.name.value;break}if(q!==""&&q!==c||te!==0&&de(ee,d)===!1)continue;const P={matchedLen:Qe.length,queryDiff:i-te,hrefLen:ze.length-q.length};if(P.matchedLen>n.matchedLen){t=l.name.value,n=P;continue}else if(P.matchedLen!==n.matchedLen)continue;if(P.queryDiff<n.queryDiff)t=l.name.value,n=P;else if(P.queryDiff!==n.queryDiff)continue;P.hrefLen>n.hrefLen&&(t=l.name.value,n=P)}if(t===null&&o.some(l=>l.routeData===void 0&&l.name.value===_.value)===!0){H=!1;return}p({name:t,setCurrent:!0})}function Me(t){if(Z(),T.value!==!0&&x.value!==null&&t.target&&typeof t.target.closest=="function"){const n=t.target.closest(".q-tab");n&&x.value.contains(n)===!0&&(T.value=!0,L.value===!0&&$(n))}}function Ee(){W(()=>{T.value=!1},30)}function F(){ve.avoidRouteWatcher===!1?B($e):J()}function fe(){if(R===void 0){const t=Q(()=>s.$route.fullPath,F);R=()=>{t(),R=void 0}}}function De(t){o.push(t),g.value++,N(),t.routeData===void 0||s.$route===void 0?B(()=>{if(L.value===!0){const n=_.value,a=n!=null&&n!==""?o.find(c=>c.name.value===n):null;a&&$(a.rootRef.value)}}):(fe(),t.routeData.hasRouterLink.value===!0&&F())}function Fe(t){o.splice(o.indexOf(t),1),g.value--,N(),R!==void 0&&t.routeData!==void 0&&(o.every(n=>n.routeData===void 0)===!0&&R(),F())}const ve={currentModel:_,tabProps:A,hasFocus:T,hasActiveTab:qe,registerTab:De,unregisterTab:Fe,verifyRouteModel:F,updateModel:p,onKbdNavigate:Ae,avoidRouteWatcher:!1};et(ke,ve);function be(){h!==null&&clearTimeout(h),S(),R?.()}let he,H;return le(be),_e(()=>{he=R!==void 0,be()}),pe(()=>{he===!0&&(fe(),H=!0,F()),N()}),()=>y("div",{ref:x,class:Le.value,role:"tablist",onFocusin:Me,onFocusout:Ee},[y(rt,{onResize:ie}),y("div",{ref:w,class:Se.value,onScroll:M},Ne(f.default)),y(X,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||r.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ue,onTouchstartPassive:ue,onMouseupPassive:S,onMouseleavePassive:S,onTouchendPassive:S}),y(X,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(I.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||r.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ce,onTouchstartPassive:ce,onMouseupPassive:S,onMouseleavePassive:S,onTouchendPassive:S})])}}),gt={};function yt(e,f){const u=tt("router-view");return nt(),at(lt,{class:"q-pa-md"},{default:ge(()=>[f[0]||(f[0]=ot("h3",null,"Raktár",-1)),U(mt,{class:"q-mb-md",align:"left",dense:""},{default:ge(()=>[U(Te,{to:"/raktar/eszkozok",label:"Eszközök"}),U(Te,{to:"/raktar/helyszinek",label:"Helyszínek"})]),_:1}),U(u)]),_:1})}const qt=it(gt,[["render",yt]]);export{qt as default};
